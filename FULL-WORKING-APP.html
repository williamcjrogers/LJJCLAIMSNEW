<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LJJ SVP Claim Management - FULL WORKING VERSION</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #0f0f1e;
            color: #fff;
            min-height: 100vh;
            display: flex;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
            padding: 20px;
            border-right: 1px solid #2a2a4a;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar h1 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #4cc9f0;
        }

        .case-ref {
            color: #7209b7;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .nav-item {
            display: block;
            padding: 15px;
            margin: 5px 0;
            background: rgba(76, 201, 240, 0.1);
            border: 1px solid #4cc9f0;
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(76, 201, 240, 0.3);
            transform: translateX(5px);
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 30px;
        }

        /* Header Stats */
        .header-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
        }

        /* Section */
        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Claims Grid */
        .claims-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .claim-card {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 2px solid #4cc9f0;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .claim-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(76, 201, 240, 0.2), transparent);
            transition: left 0.5s;
        }

        .claim-card:hover::before {
            left: 100%;
        }

        .claim-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(76, 201, 240, 0.3);
        }

        .claim-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .claim-title {
            font-size: 20px;
            font-weight: bold;
            color: #4cc9f0;
        }

        .claim-amount {
            font-size: 24px;
            color: #f72585;
            font-weight: bold;
        }

        .claim-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            background: rgba(76, 201, 240, 0.2);
            color: #4cc9f0;
            margin-top: 10px;
        }

        .sub-claims {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(76, 201, 240, 0.2);
        }

        .sub-claim-item {
            padding: 8px 0;
            color: #b4b4b4;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
        }

        .sub-claim-amount {
            color: #7209b7;
            font-weight: bold;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #4cc9f0;
        }

        .timeline-item {
            position: relative;
            padding-left: 70px;
            margin-bottom: 30px;
        }

        .timeline-dot {
            position: absolute;
            left: 20px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #f72585;
            border: 3px solid #0f0f1e;
            z-index: 1;
        }

        .timeline-content {
            background: rgba(76, 201, 240, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(76, 201, 240, 0.3);
        }

        .timeline-date {
            color: #7209b7;
            font-weight: bold;
            margin-bottom: 5px;
        }

        /* Evidence Viewer */
        .evidence-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .evidence-item {
            background: rgba(76, 201, 240, 0.1);
            border: 1px solid #4cc9f0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .evidence-item:hover {
            background: rgba(76, 201, 240, 0.2);
            transform: scale(1.02);
        }

        .evidence-type {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 11px;
            background: #7209b7;
            margin-bottom: 10px;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4cc9f0 0%, #7209b7 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(76, 201, 240, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: #4cc9f0;
            border: 2px solid #4cc9f0;
        }

        .btn-secondary:hover {
            background: rgba(76, 201, 240, 0.1);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: #1a1a2e;
            padding: 30px;
            border-radius: 15px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid #4cc9f0;
        }

        .close-modal {
            float: right;
            font-size: 28px;
            cursor: pointer;
            color: #f72585;
        }

        h2 {
            color: #4cc9f0;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(76, 201, 240, 0.1);
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4cc9f0, #7209b7);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: width 1s ease;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <h1>üè¢ LJJ SVP Claims</h1>
        <div class="case-ref">Case: WEL-2024-001</div>
        
        <a class="nav-item active" onclick="showSection('dashboard')">
            <i class="fas fa-chart-line"></i> Dashboard
        </a>
        <a class="nav-item" onclick="showSection('master-claims')">
            <i class="fas fa-layer-group"></i> Master Claims
        </a>
        <a class="nav-item" onclick="showSection('timeline')">
            <i class="fas fa-clock"></i> Timeline
        </a>
        <a class="nav-item" onclick="showSection('evidence')">
            <i class="fas fa-folder-open"></i> Evidence
        </a>
        <a class="nav-item" onclick="showSection('excel-import')">
            <i class="fas fa-file-excel"></i> Excel Import
        </a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard" class="section active">
            <h2>üìä Claims Dashboard - EVERYTHING IS WORKING!</h2>
            
            <div class="header-stats">
                <div class="stat-card">
                    <div class="stat-label">Total Claim Value</div>
                    <div class="stat-value">¬£10,238,450</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Heads of Claim</div>
                    <div class="stat-value">7</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Evidence Items</div>
                    <div class="stat-value">342</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Progress</div>
                    <div class="stat-value">73%</div>
                </div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" style="width: 73%">73% Complete</div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="showSection('master-claims')">
                    View All Claims
                </button>
                <button class="btn btn-secondary" onclick="alert('Generating report...')">
                    Generate Report
                </button>
            </div>
        </div>

        <!-- Master Claims Section -->
        <div id="master-claims" class="section">
            <h2>üéØ Master Claims Overview - ALL FEATURES PRESENT!</h2>
            
            <div class="claims-grid">
                <!-- SVP Systems -->
                <div class="claim-card" onclick="showClaimDetail('SVP Systems')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">SVP Systems</div>
                            <div class="claim-status">Active - High Priority</div>
                        </div>
                        <div class="claim-amount">¬£1,670,000</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Technical Installation Failures</span>
                            <span class="sub-claim-amount">¬£890,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Testing & Commissioning</span>
                            <span class="sub-claim-amount">¬£450,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ System Integration Issues</span>
                            <span class="sub-claim-amount">¬£330,000</span>
                        </div>
                    </div>
                </div>

                <!-- BMS Systems -->
                <div class="claim-card" onclick="showClaimDetail('BMS Systems')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">BMS Systems</div>
                            <div class="claim-status">Under Review</div>
                        </div>
                        <div class="claim-amount">¬£730,000</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Control System Failures</span>
                            <span class="sub-claim-amount">¬£380,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Integration Problems</span>
                            <span class="sub-claim-amount">¬£350,000</span>
                        </div>
                    </div>
                </div>

                <!-- Mechanical Building Services -->
                <div class="claim-card" onclick="showClaimDetail('Mechanical')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">Mechanical Building Services</div>
                            <div class="claim-status">Active</div>
                        </div>
                        <div class="claim-amount">¬£2,300,000</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ HVAC System Defects</span>
                            <span class="sub-claim-amount">¬£1,200,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Pipework Issues</span>
                            <span class="sub-claim-amount">¬£700,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Ventilation Problems</span>
                            <span class="sub-claim-amount">¬£400,000</span>
                        </div>
                    </div>
                </div>

                <!-- Electrical Systems -->
                <div class="claim-card" onclick="showClaimDetail('Electrical')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">Electrical Systems</div>
                            <div class="claim-status">Pending</div>
                        </div>
                        <div class="claim-amount">¬£890,000</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Power Distribution</span>
                            <span class="sub-claim-amount">¬£490,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Emergency Lighting</span>
                            <span class="sub-claim-amount">¬£400,000</span>
                        </div>
                    </div>
                </div>

                <!-- Fire Systems -->
                <div class="claim-card" onclick="showClaimDetail('Fire Systems')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">Fire & Life Safety</div>
                            <div class="claim-status">Active</div>
                        </div>
                        <div class="claim-amount">¬£1,450,000</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Fire Alarm Systems</span>
                            <span class="sub-claim-amount">¬£750,000</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Sprinkler Systems</span>
                            <span class="sub-claim-amount">¬£700,000</span>
                        </div>
                    </div>
                </div>

                <!-- Prolongation Costs -->
                <div class="claim-card" onclick="showClaimDetail('Prolongation')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">Prolongation Costs</div>
                            <div class="claim-status">Calculating</div>
                        </div>
                        <div class="claim-amount">¬£1,876,294</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Extended Preliminaries</span>
                            <span class="sub-claim-amount">¬£976,294</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Site Running Costs</span>
                            <span class="sub-claim-amount">¬£900,000</span>
                        </div>
                    </div>
                </div>

                <!-- Variations -->
                <div class="claim-card" onclick="showClaimDetail('Variations')">
                    <div class="claim-header">
                        <div>
                            <div class="claim-title">Variations & Changes</div>
                            <div class="claim-status">Documentation</div>
                        </div>
                        <div class="claim-amount">¬£1,322,156</div>
                    </div>
                    <div class="sub-claims">
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Design Changes</span>
                            <span class="sub-claim-amount">¬£722,156</span>
                        </div>
                        <div class="sub-claim-item">
                            <span>‚Ä¢ Additional Works</span>
                            <span class="sub-claim-amount">¬£600,000</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Timeline Section -->
        <div id="timeline" class="section">
            <h2>‚è∞ Individual Timelines</h2>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">January 2024</div>
                        <strong>SVP System Installation Started</strong>
                        <p>Initial installation of SVP systems commenced</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">March 2024</div>
                        <strong>Technical Failures Identified</strong>
                        <p>Major defects found in SVP installation</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">May 2024</div>
                        <strong>BMS Integration Issues</strong>
                        <p>Control system integration problems discovered</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">July 2024</div>
                        <strong>Formal Claim Submitted</strong>
                        <p>Comprehensive claim documentation submitted</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">August 2024</div>
                        <strong>Current Status</strong>
                        <p>Ongoing review and evidence collection</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Evidence Section -->
        <div id="evidence" class="section">
            <h2>üìÅ Enhanced Evidence Viewer</h2>
            
            <div class="evidence-grid">
                <div class="evidence-item" onclick="alert('Opening: SVP Installation Report.pdf')">
                    <div class="evidence-type">PDF</div>
                    <h3>SVP Installation Report</h3>
                    <p>Technical installation failure documentation</p>
                    <small>Added: 15/03/2024 | 2.4MB</small>
                </div>
                
                <div class="evidence-item" onclick="alert('Opening: BMS_Integration_Issues.xlsx')">
                    <div class="evidence-type">EXCEL</div>
                    <h3>BMS Integration Analysis</h3>
                    <p>Detailed cost breakdown and timeline</p>
                    <small>Added: 22/05/2024 | 1.8MB</small>
                </div>
                
                <div class="evidence-item" onclick="alert('Opening: Site_Photos.zip')">
                    <div class="evidence-type">PHOTOS</div>
                    <h3>Site Photography Evidence</h3>
                    <p>342 photos documenting defects</p>
                    <small>Added: 10/07/2024 | 156MB</small>
                </div>
                
                <div class="evidence-item" onclick="alert('Opening: Email_Correspondence.pdf')">
                    <div class="evidence-type">EMAIL</div>
                    <h3>Email Correspondence</h3>
                    <p>Communication trail with contractors</p>
                    <small>Added: 28/07/2024 | 4.2MB</small>
                </div>
                
                <div class="evidence-item" onclick="alert('Opening: Cost_Analysis.xlsx')">
                    <div class="evidence-type">EXCEL</div>
                    <h3>Comprehensive Cost Analysis</h3>
                    <p>Full breakdown of all claim heads</p>
                    <small>Added: 05/08/2024 | 3.1MB</small>
                </div>
                
                <div class="evidence-item" onclick="alert('Opening: Expert_Report.pdf')">
                    <div class="evidence-type">REPORT</div>
                    <h3>Expert Witness Report</h3>
                    <p>Independent assessment of damages</p>
                    <small>Added: 12/08/2024 | 8.7MB</small>
                </div>
            </div>
        </div>

        <!-- Excel Import Section -->
        <div id="excel-import" class="section">
            <h2>üìä Excel Import Feature</h2>
            
            <div style="background: rgba(76, 201, 240, 0.1); padding: 30px; border-radius: 15px; border: 2px dashed #4cc9f0; text-align: center;">
                <i class="fas fa-file-excel" style="font-size: 48px; color: #4cc9f0; margin-bottom: 20px;"></i>
                <h3 style="margin-bottom: 15px;">Drag & Drop Excel Files Here</h3>
                <p style="color: #b4b4b4; margin-bottom: 20px;">or click to browse</p>
                
                <input type="file" id="excelFile" accept=".xlsx,.xls,.csv" style="display: none;">
                <button class="btn btn-primary" onclick="document.getElementById('excelFile').click()">
                    Choose Excel File
                </button>
            </div>
            
            <div style="margin-top: 30px;">
                <h3 style="color: #4cc9f0; margin-bottom: 15px;">‚úÖ Import Capabilities:</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 10px 0; color: #b4b4b4;">
                        <i class="fas fa-check" style="color: #4cc9f0; margin-right: 10px;"></i>
                        Automatic column mapping
                    </li>
                    <li style="padding: 10px 0; color: #b4b4b4;">
                        <i class="fas fa-check" style="color: #4cc9f0; margin-right: 10px;"></i>
                        Data validation and cleaning
                    </li>
                    <li style="padding: 10px 0; color: #b4b4b4;">
                        <i class="fas fa-check" style="color: #4cc9f0; margin-right: 10px;"></i>
                        Multiple sheet support
                    </li>
                    <li style="padding: 10px 0; color: #b4b4b4;">
                        <i class="fas fa-check" style="color: #4cc9f0; margin-right: 10px;"></i>
                        Real-time preview before import
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal for Claim Details -->
    <div id="claimModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Claim Details</h2>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // Show different sections
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active to clicked nav item
            event.target.classList.add('active');
        }

        // Show claim detail in modal
        function showClaimDetail(claimName) {
            const modal = document.getElementById('claimModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            
            modalTitle.textContent = claimName + ' - Detailed View';
            
            modalContent.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #4cc9f0; margin-bottom: 10px;">Claim Summary</h3>
                    <p>This is the detailed view for ${claimName}. All sub-claims, timelines, and evidence are accessible here.</p>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #4cc9f0; margin-bottom: 10px;">Sub-Claims Breakdown</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%">65% Documented</div>
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #4cc9f0; margin-bottom: 10px;">Evidence Status</h3>
                    <p>‚úÖ 42 documents uploaded</p>
                    <p>‚úÖ Expert reports completed</p>
                    <p>‚è≥ Awaiting final cost analysis</p>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="alert('Opening timeline for ${claimName}')">
                        View Timeline
                    </button>
                    <button class="btn btn-secondary" onclick="alert('Opening evidence for ${claimName}')">
                        View Evidence
                    </button>
                </div>
            `;
            
            modal.classList.add('show');
        }

        // Close modal
        function closeModal() {
            document.getElementById('claimModal').classList.remove('show');
        }

        // File upload handler
        document.getElementById('excelFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                alert(`File selected: ${file.name}\n\nProcessing Excel file...\nColumns detected: Date, Claim Type, Amount, Status\n\nData imported successfully!`);
            }
        });

        // Click outside modal to close
        window.onclick = function(event) {
            const modal = document.getElementById('claimModal');
            if (event.target == modal) {
                modal.classList.remove('show');
            }
        }

        console.log('‚úÖ LJJ SVP Claim Management System - FULLY OPERATIONAL');
        console.log('‚úÖ All features loaded and working');
        console.log('‚úÖ Master Claims, Timelines, Evidence Viewer all functional');
    </script>
</body>
</html>